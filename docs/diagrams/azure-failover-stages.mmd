stateDiagram-v2
    [*] --> Stage1_Always: í‰ìƒì‹œ (AWS ì •ìƒ)

    state "Stage 1: Always-On" as Stage1_Always {
        [*] --> VNet_Ready
        VNet_Ready --> Blob_Active
        Blob_Active --> Backup_Receiving
        Backup_Receiving --> Static_Website

        note right of Blob_Active
            ğŸ’° Cost: $50-100/month
            - VNet (ì˜ˆì•½, ë¬´ë£Œ)
            - Blob Storage (LRS)
            - 30ì¼ ë°±ì—… ë³´ê´€
        end note
    }

    Stage1_Always --> Stage2_Emergency: AWS ì¥ì•  ê°ì§€<br/>(T+0ë¶„)

    state "Stage 2: Emergency Response" as Stage2_Emergency {
        [*] --> Deploy_AppGW
        Deploy_AppGW --> Deploy_MySQL
        Deploy_MySQL --> Restore_DB
        Restore_DB --> Show_Maintenance

        note right of Deploy_MySQL
            ğŸ’° Cost: +$200-300/month
            â±ï¸ Time: 10-15ë¶„
            - App Gateway í™œì„±í™”
            - MySQL ë³µêµ¬
            - ìœ ì§€ë³´ìˆ˜ í˜ì´ì§€
        end note
    }

    Stage2_Emergency --> Stage3_Failover: ì™„ì „ ë³µêµ¬ í•„ìš”<br/>(T+15ë¶„)

    state "Stage 3: Complete Failover" as Stage3_Failover {
        [*] --> Deploy_AKS
        Deploy_AKS --> Deploy_Pods
        Deploy_Pods --> Connect_DB
        Connect_DB --> Full_Service

        note right of Deploy_AKS
            ğŸ’° Cost: +$400-500/month
            â±ï¸ Time: 15-20ë¶„
            - AKS í´ëŸ¬ìŠ¤í„°
            - Nginx + Spring Boot
            - ì •ìƒ ì„œë¹„ìŠ¤
        end note
    }

    Stage3_Failover --> AWS_Recovered: AWS ë³µêµ¬ ì™„ë£Œ
    AWS_Recovered --> Stage1_Always: Failback
