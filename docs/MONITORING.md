# AWS ì¸í”„ë¼  ëª¨ë‹ˆí„°ë§ ê°€ì´ë“œ

## ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [ëª¨ë‹ˆí„°ë§ ì•„í‚¤í…ì²˜](#ëª¨ë‹ˆí„°ë§-ì•„í‚¤í…ì²˜)
3. [ëª¨ë‹ˆí„°ë§ ì§€í‘œ ìƒì„¸](#ëª¨ë‹ˆí„°ë§-ì§€í‘œ-ìƒì„¸)
4. [ì•ŒëŒ ì„¤ì •](#ì•ŒëŒ-ì„¤ì •)
5. [ìë™ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜](#ìë™-ë³µêµ¬-ë©”ì»¤ë‹ˆì¦˜)
6. [CloudWatch ëŒ€ì‹œë³´ë“œ](#cloudwatch-ëŒ€ì‹œë³´ë“œ)

---

## ê°œìš”

AWS CloudWatchì™€ Container Insightsë¥¼ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ì—ì„œ êµ¬ì¶•í•œ ì¸í”„ë¼ë¥¼ 

### ëª¨ë‹ˆí„°ë§ ëª©ì 
- **ê°€ìš©ì„± ë³´ì¥**: ì‹œìŠ¤í…œ ì¥ì• ë¥¼ ì¡°ê¸°ì— ê°ì§€í•˜ê³  ìë™ ë³µêµ¬
- **ì„±ëŠ¥ ìµœì í™”**: ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥ ì„ ì¶”ì í•˜ì—¬ ë³‘ëª© í˜„ìƒ ì˜ˆë°©
- **ë¹„ìš© ìµœì í™”**: ê³¼ë„í•œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ë°©ì§€
- **DR ì¤€ë¹„**: Route53 Health Checkë¡œ Failover ìƒíƒœ ê°ì‹œ

### í•µì‹¬ ê¸°ëŠ¥
- **ë‹¤ì¸µ ëª¨ë‹ˆí„°ë§**: ì¸í”„ë¼(Node) â†’ ì»¨í…Œì´ë„ˆ(Pod) â†’ ì• í”Œë¦¬ì¼€ì´ì…˜(ALB/RDS) ê³„ì¸µë³„ ëª¨ë‹ˆí„°ë§
- **ì‹¤ì‹œê°„ ì•ŒëŒ**: AWS Chatbotì„ í†µí•œ Slack ì•Œë¦¼
- **ìë™ ë³µêµ¬**: Lambdaë¥¼ í†µí•œ ìë™ ë³µêµ¬ ì•¡ì…˜
- **ì‹œê°í™”**: CloudWatch ëŒ€ì‹œë³´ë“œë¥¼ í†µí•œ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­ í™•ì¸

---

## ëª¨ë‹ˆí„°ë§ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CloudWatch Metrics                        â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   EKS    â”‚  â”‚   ALB    â”‚  â”‚   RDS    â”‚  â”‚ Route53  â”‚   â”‚
â”‚  â”‚  Nodes   â”‚  â”‚ Metrics  â”‚  â”‚ Metrics  â”‚  â”‚  Health  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â†“             â†“             â†“             â†“           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          Container Insights                       â”‚      â”‚
â”‚  â”‚   (Pod/Container Level Metrics)                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  CloudWatch Alarms    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚     SNS Topic         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“       â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ AWS Chatbot  â”‚  â”‚  Lambda   â”‚
          â”‚   (Slack)    â”‚  â”‚   Auto    â”‚
          â”‚              â”‚  â”‚ Recovery  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ëª¨ë‹ˆí„°ë§ ì§€í‘œ ìƒì„¸

### 1. EKS ë…¸ë“œ ë ˆë²¨ ë©”íŠ¸ë¦­

#### 1.1 CPU ì‚¬ìš©ë¥  (node_cpu_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 80% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - CPU ê³¼ë¶€í•˜ ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ë‹µ ì§€ì—° ë°œìƒ
  - ë…¸ë“œ í™•ì¥(Scale-out) í•„ìš” ì‹œì  íŒë‹¨
  - ì›Œí¬ë¡œë“œ ì¬ë¶„ë°° í•„ìš”ì„± ê°ì§€

#### 1.2 ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  (node_memory_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 80% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ OOMKilled ë°œìƒ ìœ„í—˜
  - Pod Eviction ê°€ëŠ¥ì„± ì‚¬ì „ ê°ì§€
  - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì¡°ê¸° ë°œê²¬

#### 1.3 ë””ìŠ¤í¬ ì‚¬ìš©ë¥  (node_filesystem_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 80% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë¡œê·¸ ë° ì„ì‹œ íŒŒì¼ë¡œ ì¸í•œ ë””ìŠ¤í¬ ê³ ê°ˆ ë°©ì§€
  - ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ì €ì¥ ê³µê°„ í™•ë³´
  - ImagePullBackOff ì—ëŸ¬ ì˜ˆë°©

#### 1.4 ë…¸ë“œ ìˆ˜ (cluster_node_count)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 2ê°œ ë¯¸ë§Œ (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ê³ ê°€ìš©ì„± ìœ ì§€ (ìµœì†Œ 2ê°œ ë…¸ë“œ í•„ìš”)
  - Auto Scaling ê·¸ë£¹ ë¬¸ì œ ì¡°ê¸° ê°ì§€
  - Single Point of Failure ë°©ì§€

#### 1.5 EC2 ìƒíƒœ ì²´í¬ ì‹¤íŒ¨ (StatusCheckFailed)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/EC2`
- **ì„ê³„ê°’**: 0 ì´ˆê³¼
- **í‰ê°€ ì£¼ê¸°**: 1ë¶„ (60ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Maximum
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - í•˜ë“œì›¨ì–´/ë„¤íŠ¸ì›Œí¬ ì¥ì•  ê°ì§€
  - ìë™ ë³µêµ¬ íŠ¸ë¦¬ê±° (EC2 Auto Recovery)
  - ë…¸ë“œ êµì²´ í•„ìš”ì„± íŒë‹¨

---

### 2. Pod/Container ë ˆë²¨ ë©”íŠ¸ë¦­

#### 2.1 Pod CPU ì‚¬ìš©ë¥  (pod_cpu_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 85% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ CPU ë³‘ëª© ê°ì§€
  - HPA(Horizontal Pod Autoscaler) íŠ¸ë¦¬ê±° ì°¸ê³ 
  - CPU Throttling ê°€ëŠ¥ì„± í™•ì¸

#### 2.2 Pod ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  (pod_memory_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 85% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ íŒ¨í„´ ê°ì§€
  - OOMKilled ìœ„í—˜ ì‚¬ì „ ê²½ê³ 
  - ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰(Request/Limit) ì¡°ì • í•„ìš”ì„± íŒë‹¨

#### 2.3 Pod ì¬ì‹œì‘ íšŸìˆ˜ (pod_number_of_container_restarts) âš ï¸ ìë™ ë³µêµ¬ íŠ¸ë¦¬ê±°
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 5íšŒ (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 1íšŒ
- **í†µê³„**: Sum
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - CrashLoopBackOff ìƒíƒœ ê°ì§€
  - ì• í”Œë¦¬ì¼€ì´ì…˜ ì•ˆì •ì„± ë¬¸ì œ ì¡°ê¸° ë°œê²¬
  - ìë™ ë³µêµ¬ Lambda í•¨ìˆ˜ íŠ¸ë¦¬ê±° (Pod ì¬ë°°í¬ ë“±)
  - ì§€ì†ì ì¸ ì¬ì‹œì‘ ì‹œ ê·¼ë³¸ ì›ì¸ ë¶„ì„ í•„ìš”

#### 2.4 ì»¨í…Œì´ë„ˆ CPU ì‚¬ìš©ë¥  (container_cpu_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 80% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ê°œë³„ ì»¨í…Œì´ë„ˆ ì„±ëŠ¥ ë¶„ì„
  - Multi-container Pod ë‚´ íŠ¹ì • ì»¨í…Œì´ë„ˆ ë³‘ëª© íŒŒì•…
  - Sidecar ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ëª¨ë‹ˆí„°ë§

#### 2.5 ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  (container_memory_utilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 80% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ì»¨í…Œì´ë„ˆë³„ ë©”ëª¨ë¦¬ ì‚¬ìš© íŒ¨í„´ ë¶„ì„
  - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì»¨í…Œì´ë„ˆ ì‹ë³„
  - íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ í• ë‹¹

#### 2.6 Pod ë„¤íŠ¸ì›Œí¬ RX/TX (pod_network_rx_bytes / pod_network_tx_bytes)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 100MB/s (100,000,000 bytes/sec)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ í¬í™” ê°ì§€
  - DDoS ê³µê²© ë“± ë¹„ì •ìƒ íŠ¸ë˜í”½ íŒ¨í„´ ë°œê²¬
  - ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ í†µì‹  ë³‘ëª© íŒŒì•…
  - ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ìµœì í™”

#### 2.7 ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ Pod ìˆ˜ (service_number_of_running_pods)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `ContainerInsights`
- **ì„ê³„ê°’**: 1ê°œ ë¯¸ë§Œ (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ì„œë¹„ìŠ¤ ë‹¤ìš´íƒ€ì„ ì¦‰ê° ê°ì§€
  - Deployment/ReplicaSet ë¬¸ì œ ì¡°ê¸° ë°œê²¬
  - ìµœì†Œ ê°€ìš©ì„± ë³´ì¥

---

### 3. ALB (Application Load Balancer) ë©”íŠ¸ë¦­

#### 3.1 Surge Queue Length
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/ApplicationELB`
- **ì„ê³„ê°’**: 100 (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 1ë¶„ (60ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Maximum
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë°±ì—”ë“œ ì„œë²„ ì²˜ë¦¬ ëŠ¥ë ¥ ë¶€ì¡± ê°ì§€
  - í ëŒ€ê¸°ë¡œ ì¸í•œ íƒ€ì„ì•„ì›ƒ ì˜ˆë°©
  - Surge Queueê°€ 1024 ë„ë‹¬ ì‹œ ìš”ì²­ ê±°ë¶€ë¨
  - Scale-out í•„ìš”ì„± íŒë‹¨

#### 3.2 HTTP 5XX ì—ëŸ¬ (HTTPCode_ELB_5XX_Count / HTTPCode_Target_5XX_Count)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/ApplicationELB`
- **ì„ê³„ê°’**: 10íšŒ (5ë¶„ê°„)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Sum
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - **ELB 5XX**: ALB ìì²´ ë¬¸ì œ (ì˜ëª»ëœ ì„¤ì •, ë‚´ë¶€ ì˜¤ë¥˜)
  - **Target 5XX**: ë°±ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì—ëŸ¬
  - ì„œë¹„ìŠ¤ ì¥ì•  ì¡°ê¸° ê°ì§€
  - ì‚¬ìš©ì ê²½í—˜ ì €í•˜ ë°©ì§€

#### 3.3 ì‘ë‹µ ì§€ì—° ì‹œê°„ - p95 (TargetResponseTime)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/ApplicationELB`
- **ì„ê³„ê°’**: 2.0ì´ˆ (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: p95 (95th percentile)
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - p95ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ì(95%) ê²½í—˜ ì¸¡ì •
  - ë°±ì—”ë“œ ì„±ëŠ¥ ì €í•˜ ê°ì§€
  - ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™” í•„ìš”ì„± íŒŒì•…
  - ì‚¬ìš©ì ì´íƒˆ ë°©ì§€ (ì‘ë‹µ ì‹œê°„ > 3ì´ˆ ì‹œ ì´íƒˆë¥  ì¦ê°€)

#### 3.4 ë¹„ì •ìƒ í˜¸ìŠ¤íŠ¸ ìˆ˜ (UnHealthyHostCount)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/ApplicationELB`
- **ì„ê³„ê°’**: 0 ì´ˆê³¼
- **í‰ê°€ ì£¼ê¸°**: 1ë¶„ (60ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - Health Check ì‹¤íŒ¨í•œ ë°±ì—”ë“œ ì„œë²„ ê°ì§€
  - ì„œë¹„ìŠ¤ ê°€ìš©ì„± ì €í•˜ ê²½ê³ 
  - ìë™ ë³µêµ¬ ë˜ëŠ” ìˆ˜ë™ ê°œì… í•„ìš”ì„± íŒë‹¨

---

### 4. RDS (Relational Database Service) ë©”íŠ¸ë¦­

#### 4.1 CPU ì‚¬ìš©ë¥  (CPUUtilization)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/RDS`
- **ì„ê³„ê°’**: 80% (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ë³‘ëª© ê°ì§€
  - ë¹„íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ ì‹¤í–‰ ê°€ëŠ¥ì„±
  - ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ì—…ê·¸ë ˆì´ë“œ í•„ìš”ì„± íŒë‹¨
  - Read Replica ì¶”ê°€ ê³ ë ¤

#### 4.2 ì—¬ìœ  ìŠ¤í† ë¦¬ì§€ ê³µê°„ (FreeStorageSpace)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/RDS`
- **ì„ê³„ê°’**: 10GB ë¯¸ë§Œ (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ìŠ¤í† ë¦¬ì§€ ê³ ê°ˆë¡œ ì¸í•œ ì“°ê¸° ì‘ì—… ì‹¤íŒ¨ ë°©ì§€
  - ë¡œê·¸ íŒŒì¼ ì¦ê°€ ì¶”ì 
  - ìŠ¤í† ë¦¬ì§€ í™•ì¥ ê³„íš ìˆ˜ë¦½
  - ë°ì´í„° ì •ë¦¬/ì•„ì¹´ì´ë¹™ í•„ìš”ì„± íŒë‹¨

#### 4.3 ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìˆ˜ (DatabaseConnections)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/RDS`
- **ì„ê³„ê°’**: 100ê°œ (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - Connection Pool ê³ ê°ˆ ìœ„í—˜ ê°ì§€
  - ìµœëŒ€ ì—°ê²° ìˆ˜(max_connections) ì´ˆê³¼ ë°©ì§€
  - ì• í”Œë¦¬ì¼€ì´ì…˜ Connection Leak ê°€ëŠ¥ì„± í™•ì¸
  - Connection Pooling ì„¤ì • ìµœì í™” í•„ìš”ì„±

#### 4.4 ë””ìŠ¤í¬ í ê¹Šì´ (DiskQueueDepth)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/RDS`
- **ì„ê³„ê°’**: 10 (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë””ìŠ¤í¬ I/O ë³‘ëª© í˜„ìƒ ê°ì§€
  - IOPS ë¶€ì¡± ê°€ëŠ¥ì„± (Provisioned IOPS ì¦ê°€ í•„ìš”)
  - ëŒ€ëŸ‰ì˜ ì“°ê¸° ì‘ì—…ìœ¼ë¡œ ì¸í•œ ëŒ€ê¸° í ì¦ê°€
  - ìŠ¤í† ë¦¬ì§€ íƒ€ì… ì—…ê·¸ë ˆì´ë“œ ê³ ë ¤ (gp2 â†’ gp3 â†’ io1)

#### 4.5 Read/Write Latency (ReadLatency / WriteLatency)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/RDS`
- **ì„ê³„ê°’**: 0.1ì´ˆ (100ms, ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 3íšŒ ì—°ì†
- **í†µê³„**: p90 (90th percentile)
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë°ì´í„°ë² ì´ìŠ¤ ì‘ë‹µ ì§€ì—° ê°ì§€
  - ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë˜ëŠ” ì¸ë±ìŠ¤ ë¬¸ì œ ì¡°ê¸° ë°œê²¬
  - ìŠ¤í† ë¦¬ì§€ ì„±ëŠ¥ ì €í•˜ ê°ì§€
  - ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì— ì§ì ‘ì  ì˜í–¥

#### 4.6 Freeable Memory (FreeableMemory)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/RDS`
- **ì„ê³„ê°’**: 256MB (ê¸°ë³¸ê°’)
- **í‰ê°€ ì£¼ê¸°**: 5ë¶„ (300ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ìŠ¤ì™‘ ì‚¬ìš© ë°©ì§€
  - ì¿¼ë¦¬ ìºì‹œ íš¨ìœ¨ì„± ì €í•˜ ê°ì§€
  - ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ì—…ê·¸ë ˆì´ë“œ í•„ìš”ì„± íŒë‹¨
  - OOM(Out of Memory) ìƒí™© ì˜ˆë°©

---

### 5. Route53 Health Check ë©”íŠ¸ë¦­

#### 5.1 Health Check ìƒíƒœ (HealthCheckStatus)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/Route53`
- **ì„ê³„ê°’**: 1 ë¯¸ë§Œ (0 = ë¹„ì •ìƒ)
- **í‰ê°€ ì£¼ê¸°**: 1ë¶„ (60ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Minimum
- **ëŒ€ìƒ**:
  - Primary (AWS) Health Check
  - Secondary (Azure) Health Check
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ì—”ë“œí¬ì¸íŠ¸ ê°€ìš©ì„± ì‹¤ì‹œê°„ ê°ì‹œ
  - DNS Failover ë°œìƒ ì‹œì  ì¶”ì 
  - Multi-Region DR ìƒíƒœ í™•ì¸
  - ê¸€ë¡œë²Œ íŠ¸ë˜í”½ ë¼ìš°íŒ… ì •ìƒ ì‘ë™ ê²€ì¦

#### 5.2 Health Check ì •ìƒ ë¹„ìœ¨ (HealthCheckPercentageHealthy)
- **ë„¤ì„ìŠ¤í˜ì´ìŠ¤**: `AWS/Route53`
- **ì„ê³„ê°’**: 50% ë¯¸ë§Œ
- **í‰ê°€ ì£¼ê¸°**: 1ë¶„ (60ì´ˆ)
- **í‰ê°€ íšŸìˆ˜**: 2íšŒ ì—°ì†
- **í†µê³„**: Average
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - ê¸€ë¡œë²Œ Health Checker ë…¸ë“œ ì¤‘ ì •ìƒ ì‘ë‹µ ë¹„ìœ¨ ì¸¡ì •
  - ì¼ì‹œì  ë„¤íŠ¸ì›Œí¬ ë¬¸ì œì™€ ì‹¤ì œ ì¥ì•  êµ¬ë¶„
  - Failover ì„ë°• ìƒíƒœ ì¡°ê¸° ê²½ê³ 
  - False Positive ì•ŒëŒ ê°ì†Œ

#### 5.3 ë³µí•© ì•ŒëŒ (Composite Alarm) - ëª¨ë“  ì‚¬ì´íŠ¸ ë‹¤ìš´ âš ï¸ CRITICAL
- **ì¡°ê±´**: Primary AND Secondary Health Check ëª¨ë‘ ì‹¤íŒ¨
- **ëª¨ë‹ˆí„°ë§ ì´ìœ **:
  - **ì „ì²´ ì„œë¹„ìŠ¤ ë‹¤ìš´**: AWSì™€ Azure ëª¨ë‘ ì¥ì• 
  - ê¸´ê¸‰ ëŒ€ì‘ í•„ìš” (ìµœê³  ìš°ì„ ìˆœìœ„)
  - ìˆ˜ë™ ê°œì… ë˜ëŠ” ì œ3ì˜ ë°±ì—… ì‚¬ì´íŠ¸ í™œì„±í™”
  - ì¬ë‚œ ë³µêµ¬ ì ˆì°¨ ì‹¤í–‰

---

## ì•ŒëŒ ì„¤ì •

### ì•ŒëŒ ì „ë‹¬ ë©”ì»¤ë‹ˆì¦˜

```
CloudWatch Alarm ë°œìƒ
       â†“
   SNS Topic
       â†“
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
   â†“       â†“
Slack   Lambda
Alert    Auto
(AWS    Recovery
Chatbot)
```

### SNS í† í”½ êµ¬ì„±
- **í† í”½ ì´ë¦„**: `{environment}-eks-monitoring-alerts`
- **êµ¬ë…ì**:
  1. AWS Chatbot (Slack ì•Œë¦¼)
  2. Lambda ìë™ ë³µêµ¬ í•¨ìˆ˜

### Slack ì•Œë¦¼ ì„¤ì •

AWS Chatbotì„ í†µí•´ Slack ì±„ë„ë¡œ ì•ŒëŒì„ ì „ì†¡í•©ë‹ˆë‹¤.

**ì„¤ì • ë°©ë²•**:
1. AWS Console â†’ AWS Chatbot ì´ë™
2. "Configure new client" í´ë¦­ í›„ Slack Workspace ì—°ë™
3. Slackì—ì„œ AWS Chatbot ì•± ìŠ¹ì¸
4. `terraform.tfvars`ì— Workspace IDì™€ Channel ID ì„¤ì •:
   ```hcl
   slack_workspace_id = "T0XXXXXXXXX"  # Slack Workspace ID
   slack_channel_id   = "C0XXXXXXXXX"  # ì•Œë¦¼ë°›ì„ ì±„ë„ ID
   ```

**Slack ì•Œë¦¼ ì˜ˆì‹œ**:
```
ğŸš¨ ALARM: eks-dev-node-cpu-high
EKS ë…¸ë“œ CPU ì‚¬ìš©ë¥ ì´ 80%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤
Region: ap-northeast-2
Timestamp: 2024-01-15T10:30:00Z
```

### ì•ŒëŒ ì¤‘ìš”ë„ ë¶„ë¥˜

| ì¤‘ìš”ë„ | ì•ŒëŒ ì¢…ë¥˜ | ì˜ˆì‹œ |
|--------|-----------|------|
| **CRITICAL** | ì„œë¹„ìŠ¤ ë‹¤ìš´, ì „ì²´ ì‹œìŠ¤í…œ ì¥ì•  | ëª¨ë“  ì‚¬ì´íŠ¸ Health Check ì‹¤íŒ¨, ì‹¤í–‰ ì¤‘ì¸ Pod 0ê°œ |
| **HIGH** | ì„±ëŠ¥ ì‹¬ê° ì €í•˜, ìë™ ë³µêµ¬ í•„ìš” | Pod ì¬ì‹œì‘ 5íšŒ ì´ˆê³¼, ë…¸ë“œ ìƒíƒœ ì²´í¬ ì‹¤íŒ¨ |
| **MEDIUM** | ë¦¬ì†ŒìŠ¤ ì„ê³„ê°’ ì´ˆê³¼ | CPU/ë©”ëª¨ë¦¬ 80% ì´ˆê³¼, ë””ìŠ¤í¬ ê³µê°„ 10GB ë¯¸ë§Œ |
| **LOW** | ê²½ê³ ì„± ì•Œë¦¼ | ì§€ì—° ì‹œê°„ ì¦ê°€, ì—ëŸ¬ìœ¨ ìƒìŠ¹ ì¶”ì„¸ |

---

## ìë™ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜

### Lambda í•¨ìˆ˜ ê°œìš”
- **í•¨ìˆ˜ ì´ë¦„**: `{environment}-eks-auto-recovery`
- **ëŸ°íƒ€ì„**: Python 3.11
- **íƒ€ì„ì•„ì›ƒ**: 300ì´ˆ (5ë¶„)
- **ë©”ëª¨ë¦¬**: 256MB
- **íŠ¸ë¦¬ê±°**: SNS Topic êµ¬ë…

### ìë™ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤

#### 1. Pod ì¬ì‹œì‘ ê³¼ë‹¤ (pod_restart_high)
**ê°ì§€ ì¡°ê±´**:
- 5ë¶„ ë™ì•ˆ Pod ì¬ì‹œì‘ 5íšŒ ì´ˆê³¼

**ìë™ ë³µêµ¬ ì•¡ì…˜**:
1. ì¬ì‹œì‘ì´ ë§ì€ Pod ì‹ë³„
2. Pod ë¡œê·¸ ìˆ˜ì§‘ ë° SNSë¡œ ì „ì†¡
3. ë¬¸ì œ Pod ì‚­ì œ (Deploymentê°€ ìë™ìœ¼ë¡œ ìƒˆ Pod ìƒì„±)
4. ì¬ìƒì„±ëœ Pod ìƒíƒœ í™•ì¸

**ëª©ì **:
- CrashLoopBackOff ìƒíƒœ í•´ì†Œ
- ì†ìƒëœ Pod ì œê±° í›„ ì •ìƒ Podë¡œ êµì²´

#### 2. ë…¸ë“œ ìƒíƒœ ì²´í¬ ì‹¤íŒ¨ (node_status_check_failed)
**ê°ì§€ ì¡°ê±´**:
- EC2 StatusCheckFailed > 0 (2íšŒ ì—°ì†)

**ìë™ ë³µêµ¬ ì•¡ì…˜**:
1. ë¬¸ì œ ë…¸ë“œ ì‹ë³„
2. ë…¸ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ Pod Drain (ì•ˆì „í•˜ê²Œ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™)
3. Auto Scaling Groupì—ì„œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ Terminate
4. ASGê°€ ìë™ìœ¼ë¡œ ìƒˆ ë…¸ë“œ ìƒì„±
5. ìƒˆ ë…¸ë“œ Ready ìƒíƒœ í™•ì¸

**ëª©ì **:
- í•˜ë“œì›¨ì–´/ë„¤íŠ¸ì›Œí¬ ì¥ì•  ë…¸ë“œ êµì²´
- ì›Œí¬ë¡œë“œ ì¤‘ë‹¨ ìµœì†Œí™”

#### 3. ë¹„ì •ìƒ í˜¸ìŠ¤íŠ¸ ê°ì§€ (unhealthy_hosts)
**ê°ì§€ ì¡°ê±´**:
- ALB UnHealthyHostCount > 0 (2íšŒ ì—°ì†)

**ìë™ ë³µêµ¬ ì•¡ì…˜**:
1. Target Groupì—ì„œ Unhealthy Target ì‹ë³„
2. í•´ë‹¹ Pod ì¬ì‹œì‘
3. Health Check í†µê³¼ í™•ì¸
4. ì‹¤íŒ¨ ì‹œ ë…¸ë“œ ë ˆë²¨ ì ê²€

**ëª©ì **:
- ì„œë¹„ìŠ¤ ê°€ìš©ì„± ì‹ ì† ë³µêµ¬
- ì‚¬ìš©ì ì˜í–¥ ìµœì†Œí™”

### IAM ê¶Œí•œ
Lambda í•¨ìˆ˜ëŠ” ë‹¤ìŒ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤:
- EKS í´ëŸ¬ìŠ¤í„° ì¡°íšŒ ë° ë…¸ë“œ ê·¸ë£¹ ê´€ë¦¬
- Auto Scaling ê·¸ë£¹ ê´€ë¦¬
- EC2 ì¸ìŠ¤í„´ìŠ¤ ì¢…ë£Œ/ì¬ë¶€íŒ…
- SNS ë©”ì‹œì§€ ë°œí–‰
- CloudWatch Logs ì‘ì„±

---

## CloudWatch ëŒ€ì‹œë³´ë“œ

### ëŒ€ì‹œë³´ë“œ êµ¬ì„±
ëŒ€ì‹œë³´ë“œ ì´ë¦„: `{environment}-eks-monitoring-dashboard`

### ì„¹ì…˜ë³„ êµ¬ì„±

#### 1. Node Metrics (ë…¸ë“œ ë©”íŠ¸ë¦­)
- Node CPU Utilization (ì„ê³„ê°’ í‘œì‹œ)
- Node Memory Utilization (ì„ê³„ê°’ í‘œì‹œ)
- Node Disk Utilization (ì„ê³„ê°’ í‘œì‹œ)
- Node Count & Status (Total/Failed Nodes)
- EC2 Status Check Failed (ì‹œìŠ¤í…œ/ì¸ìŠ¤í„´ìŠ¤ ì²´í¬)

#### 2. Container/Pod Metrics (ì»¨í…Œì´ë„ˆ/Pod ë©”íŠ¸ë¦­)
- Pod CPU Utilization
- Pod Memory Utilization
- Pod Restart Count (ìë™ ë³µêµ¬ ì„ê³„ê°’ í‘œì‹œ)
- Container CPU Utilization (ì„ê³„ê°’ í‘œì‹œ)
- Container Memory Utilization (ì„ê³„ê°’ í‘œì‹œ)
- Pod Network I/O (RX/TX)
- Running Pods & Services

#### 3. ALB Metrics (ë¡œë“œ ë°¸ëŸ°ì„œ ë©”íŠ¸ë¦­)
- Request Count (ìš”ì²­ ìˆ˜)
- HTTP 5XX Errors (ELB/Target êµ¬ë¶„, ì„ê³„ê°’ í‘œì‹œ)
- Target Response Time (p50/p95/p99, ì„ê³„ê°’ í‘œì‹œ)
- Surge Queue Length (ì„ê³„ê°’ í‘œì‹œ)
- Target Health Status (Healthy/Unhealthy)

#### 4. RDS Metrics (ë°ì´í„°ë² ì´ìŠ¤ ë©”íŠ¸ë¦­)
- RDS CPU Utilization (ì„ê³„ê°’ í‘œì‹œ)
- Free Storage Space (ì„ê³„ê°’ í‘œì‹œ)
- Database Connections (ì„ê³„ê°’ í‘œì‹œ)
- Disk Queue Depth (ì„ê³„ê°’ í‘œì‹œ)
- Read/Write Latency p90 (ì„ê³„ê°’ í‘œì‹œ)
- Freeable Memory (ì„ê³„ê°’ í‘œì‹œ)

#### 5. Route53 Health Check & Failover Status
- Primary (AWS) Health Check Status
- Secondary (Azure) Health Check Status
- Health Check Percentage Healthy (Primary/Secondary, Failover ì„ê³„ê°’ í‘œì‹œ)

#### 6. Alarm Status & Auto Recovery
- Infrastructure Alarms (ë…¸ë“œ/EC2 ê´€ë ¨ ì•ŒëŒ ìƒíƒœ)
- Application & Database Alarms (Pod/ì»¨í…Œì´ë„ˆ/RDS ê´€ë ¨ ì•ŒëŒ ìƒíƒœ)

### ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ ë°©ë²•
1. AWS Console â†’ CloudWatch ì´ë™
2. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ "Dashboards" ì„ íƒ
3. `{environment}-eks-monitoring-dashboard` ê²€ìƒ‰
4. ìë™ ìƒˆë¡œê³ ì¹¨ ê°„ê²© ì„¤ì • ê°€ëŠ¥ (10ì´ˆ ~ 15ë¶„)

---

## ë¡œê·¸ ë³´ì¡´ ì •ì±…

### CloudWatch Log Groups
1. **Container Insights Performance Logs**
   - ê²½ë¡œ: `/aws/containerinsights/{cluster_name}/performance`
   - ë³´ì¡´ ê¸°ê°„: 30ì¼ (ê¸°ë³¸ê°’)
   - ë‚´ìš©: ë…¸ë“œ/Pod/ì»¨í…Œì´ë„ˆ ì„±ëŠ¥ ë©”íŠ¸ë¦­

2. **Application Logs**
   - ê²½ë¡œ: `/aws/containerinsights/{cluster_name}/application`
   - ë³´ì¡´ ê¸°ê°„: 30ì¼ (ê¸°ë³¸ê°’)
   - ë‚´ìš©: ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸

3. **Lambda Function Logs**
   - ê²½ë¡œ: `/aws/lambda/{environment}-eks-auto-recovery`
   - ë³´ì¡´ ê¸°ê°„: 30ì¼ (ê¸°ë³¸ê°’)
   - ë‚´ìš©: ìë™ ë³µêµ¬ í•¨ìˆ˜ ì‹¤í–‰ ë¡œê·¸

**ë³´ì¡´ ê¸°ê°„ ë³€ê²½ ë°©ë²•**:
`variables.tf`ì—ì„œ `log_retention_days` ê°’ ìˆ˜ì • (7, 14, 30, 60, 90, 120, 180, 365ì¼ ë“±)

---

## ìš´ì˜ ê°€ì´ë“œ

### ì¼ì¼ ì ê²€ ì‚¬í•­
1. CloudWatch ëŒ€ì‹œë³´ë“œ í™•ì¸
   - ëª¨ë“  ë©”íŠ¸ë¦­ì´ ì •ìƒ ë²”ìœ„ ë‚´ì¸ì§€ í™•ì¸
   - ì•ŒëŒ ìƒíƒœ ì ê²€ (ëª¨ë‘ OK ìƒíƒœì—¬ì•¼ í•¨)

2. Route53 Health Check ìƒíƒœ í™•ì¸
   - Primary/Secondary ëª¨ë‘ Healthy ìƒíƒœ í™•ì¸
   - HealthCheckPercentageHealthyê°€ 100%ì¸ì§€ í™•ì¸

3. Slack ì•ŒëŒ ì±„ë„ í™•ì¸
   - ì•¼ê°„ ë˜ëŠ” ì£¼ë§ì— ë°œìƒí•œ ì•ŒëŒ ê²€í† 
   - ìë™ ë³µêµ¬ ì„±ê³µ ì—¬ë¶€ í™•ì¸

### ì•ŒëŒ ë°œìƒ ì‹œ ëŒ€ì‘ ì ˆì°¨

#### CPU/ë©”ëª¨ë¦¬ ì„ê³„ê°’ ì´ˆê³¼
1. ëŒ€ì‹œë³´ë“œì—ì„œ ì¶”ì„¸ í™•ì¸ (ì¼ì‹œì  ìŠ¤íŒŒì´í¬ vs ì§€ì†ì  ì¦ê°€)
2. ì›ì¸ ë¶„ì„:
   - íŠ¸ë˜í”½ ì¦ê°€: Scale-out ê³ ë ¤
   - ë©”ëª¨ë¦¬ ëˆ„ìˆ˜: ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ ë˜ëŠ” ë²„ê·¸ ìˆ˜ì •
3. ì¦‰ê° ì¡°ì¹˜ê°€ í•„ìš”í•œ ê²½ìš° ìˆ˜ë™ ìŠ¤ì¼€ì¼ë§

#### Pod ì¬ì‹œì‘ ë°˜ë³µ
1. ìë™ ë³µêµ¬ Lambda ë¡œê·¸ í™•ì¸
2. Pod ë¡œê·¸ ë¶„ì„: `kubectl logs <pod-name> --previous`
3. ê·¼ë³¸ ì›ì¸ í•´ê²° (ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸, ì„¤ì • ìˆ˜ì • ë“±)

#### RDS ì—°ê²° ìˆ˜ ì´ˆê³¼
1. ì• í”Œë¦¬ì¼€ì´ì…˜ Connection Pool ì„¤ì • í™•ì¸
2. ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¡œê·¸ ë¶„ì„
3. Read Replica ì¶”ê°€ ê³ ë ¤

#### Failover ë°œìƒ (Route53)
1. Primary ì‚¬ì´íŠ¸ ìƒíƒœ ì ê²€
2. ìˆ˜ë™ ë³µêµ¬ ë˜ëŠ” ìë™ ë³µêµ¬ ëŒ€ê¸°
3. Primary ë³µêµ¬ í›„ íŠ¸ë˜í”½ ì¬ë¶„ë°° í™•ì¸

### ì •ê¸° ì ê²€ (ì£¼ê°„/ì›”ê°„)
- **ì£¼ê°„**: ì•ŒëŒ ì„ê³„ê°’ ì ì •ì„± ê²€í† 
- **ì›”ê°„**: ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ì¶”ì„¸ ë¶„ì„ ë° ìš©ëŸ‰ ê³„íš ìˆ˜ë¦½
- **ë¶„ê¸°**: ëª¨ë‹ˆí„°ë§ ì§€í‘œ ì¶”ê°€/ì œê±° ê²€í† 


## ì°¸ê³  ìë£Œ

### ê´€ë ¨ íŒŒì¼
- [main.tf](../codes/aws/monitoring/main.tf) - ëª¨ë‹ˆí„°ë§ ë¦¬ì†ŒìŠ¤ ì •ì˜
- [variables.tf](../codes/aws/monitoring/variables.tf) - ì„ê³„ê°’ ë° ë³€ìˆ˜ ì„¤ì •
- [outputs.tf](../codes/aws/monitoring/outputs.tf) - ì¶œë ¥ ê°’ ì •ì˜

### AWS ê³µì‹ ë¬¸ì„œ
- [Amazon CloudWatch Container Insights](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/ContainerInsights.html)
- [CloudWatch Alarms](https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html)
- [Route53 Health Checks](https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/health-checks-creating.html)


