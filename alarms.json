{
    "alarms": [
        {
            "name": "${CLUSTER_NAME}-node-cpu-high",
            "description": "Node CPU utilization exceeds 80%",
            "category": "Infrastructure",
            "severity": "Medium",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "node_cpu_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-node-memory-high",
            "description": "Node Memory utilization exceeds 80%",
            "category": "Infrastructure",
            "severity": "High",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "node_memory_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-node-disk-high",
            "description": "Node Disk utilization exceeds 80%",
            "category": "Infrastructure",
            "severity": "High",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "node_filesystem_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-node-status-check-failed",
            "description": "EC2 Status Check Failed - Node may be unhealthy",
            "category": "Infrastructure",
            "severity": "Critical",
            "metric": {
                "namespace": "AWS/EC2",
                "metricName": "StatusCheckFailed",
                "dimensions": {},
                "statistic": "Sum",
                "period": 60
            },
            "threshold": 1,
            "comparisonOperator": "GreaterThanOrEqualToThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-node-count-low",
            "description": "Cluster node count is below minimum threshold",
            "category": "Infrastructure",
            "severity": "Critical",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "cluster_node_count",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": "${MIN_NODE_COUNT}",
            "comparisonOperator": "LessThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "breaching"
        },
        {
            "name": "${CLUSTER_NAME}-pod-cpu-high",
            "description": "Pod CPU utilization is high",
            "category": "Application",
            "severity": "Medium",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "pod_cpu_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-pod-memory-high",
            "description": "Pod Memory utilization is high",
            "category": "Application",
            "severity": "High",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "pod_memory_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-pod-restart-high",
            "description": "Pod restart count exceeds threshold - Auto Recovery Trigger",
            "category": "Application",
            "severity": "Critical",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "pod_number_of_container_restarts",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Sum",
                "period": 300
            },
            "threshold": 5,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 1,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-container-cpu-high",
            "description": "Container CPU utilization exceeds 80%",
            "category": "Application",
            "severity": "Medium",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "container_cpu_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-container-memory-high",
            "description": "Container Memory utilization exceeds 80%",
            "category": "Application",
            "severity": "High",
            "metric": {
                "namespace": "ContainerInsights",
                "metricName": "container_memory_utilization",
                "dimensions": {
                    "ClusterName": "${CLUSTER_NAME}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-alb-5xx-high",
            "description": "ALB 5XX error count exceeds threshold",
            "category": "Application",
            "severity": "High",
            "metric": {
                "namespace": "AWS/ApplicationELB",
                "metricName": "HTTPCode_ELB_5XX_Count",
                "dimensions": {
                    "LoadBalancer": "${ALB_ARN_SUFFIX}"
                },
                "statistic": "Sum",
                "period": 300
            },
            "threshold": 10,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 1,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${CLUSTER_NAME}-alb-latency-high",
            "description": "ALB Target Response Time exceeds 2 seconds",
            "category": "Application",
            "severity": "Medium",
            "metric": {
                "namespace": "AWS/ApplicationELB",
                "metricName": "TargetResponseTime",
                "dimensions": {
                    "LoadBalancer": "${ALB_ARN_SUFFIX}"
                },
                "statistic": "p99",
                "period": 300
            },
            "threshold": 2,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${DB_IDENTIFIER}-rds-cpu-high",
            "description": "RDS CPU utilization exceeds 80%",
            "category": "Database",
            "severity": "High",
            "metric": {
                "namespace": "AWS/RDS",
                "metricName": "CPUUtilization",
                "dimensions": {
                    "DBInstanceIdentifier": "${DB_IDENTIFIER}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 80,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${DB_IDENTIFIER}-rds-storage-low",
            "description": "RDS Free Storage Space below 10GB",
            "category": "Database",
            "severity": "Critical",
            "metric": {
                "namespace": "AWS/RDS",
                "metricName": "FreeStorageSpace",
                "dimensions": {
                    "DBInstanceIdentifier": "${DB_IDENTIFIER}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 10737418240,
            "comparisonOperator": "LessThanThreshold",
            "evaluationPeriods": 1,
            "treatMissingData": "breaching"
        },
        {
            "name": "${DB_IDENTIFIER}-rds-connections-high",
            "description": "RDS Database connections exceed threshold",
            "category": "Database",
            "severity": "High",
            "metric": {
                "namespace": "AWS/RDS",
                "metricName": "DatabaseConnections",
                "dimensions": {
                    "DBInstanceIdentifier": "${DB_IDENTIFIER}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 100,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "${DB_IDENTIFIER}-rds-disk-queue-high",
            "description": "RDS Disk Queue Depth exceeds threshold - I/O bottleneck",
            "category": "Database",
            "severity": "High",
            "metric": {
                "namespace": "AWS/RDS",
                "metricName": "DiskQueueDepth",
                "dimensions": {
                    "DBInstanceIdentifier": "${DB_IDENTIFIER}"
                },
                "statistic": "Average",
                "period": 300
            },
            "threshold": 10,
            "comparisonOperator": "GreaterThanThreshold",
            "evaluationPeriods": 2,
            "treatMissingData": "notBreaching"
        },
        {
            "name": "route53-primary-health-check-failed",
            "description": "Route53 Primary (AWS) Health Check Failed - Failover may occur",
            "category": "DNS/Failover",
            "severity": "Critical",
            "metric": {
                "namespace": "AWS/Route53",
                "metricName": "HealthCheckStatus",
                "dimensions": {
                    "HealthCheckId": "${PRIMARY_HEALTH_CHECK_ID}"
                },
                "statistic": "Minimum",
                "period": 60,
                "region": "us-east-1"
            },
            "threshold": 1,
            "comparisonOperator": "LessThanThreshold",
            "evaluationPeriods": 1,
            "treatMissingData": "breaching"
        },
        {
            "name": "route53-secondary-health-check-failed",
            "description": "Route53 Secondary (Azure) Health Check Failed",
            "category": "DNS/Failover",
            "severity": "High",
            "metric": {
                "namespace": "AWS/Route53",
                "metricName": "HealthCheckStatus",
                "dimensions": {
                    "HealthCheckId": "${SECONDARY_HEALTH_CHECK_ID}"
                },
                "statistic": "Minimum",
                "period": 60,
                "region": "us-east-1"
            },
            "threshold": 1,
            "comparisonOperator": "LessThanThreshold",
            "evaluationPeriods": 1,
            "treatMissingData": "breaching"
        }
    ],
    "variables": {
        "CLUSTER_NAME": "your-eks-cluster-name",
        "MIN_NODE_COUNT": 2,
        "ALB_ARN_SUFFIX": "app/your-alb-name/xxxxxxxxxxxx",
        "DB_IDENTIFIER": "your-rds-instance-id",
        "PRIMARY_HEALTH_CHECK_ID": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
        "SECONDARY_HEALTH_CHECK_ID": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
        "SNS_TOPIC_ARN": "arn:aws:sns:ap-northeast-2:xxxxxxxxxxxx:your-topic"
    },
    "severity_levels": {
        "Critical": {
            "response_time": "5 minutes",
            "description": "Service outage or imminent failure"
        },
        "High": {
            "response_time": "30 minutes",
            "description": "May lead to failure soon"
        },
        "Medium": {
            "response_time": "Few hours",
            "description": "Performance degradation possible"
        }
    }
}
