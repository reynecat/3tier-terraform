nohup: ignoring input
[0m[1mrandom_password.mysql: Refreshing state... [id=none][0m
[0m[1mazurerm_resource_group.main: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod][0m
[0m[1mazurerm_network_security_group.was: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/networkSecurityGroups/nsg-was-prod][0m
[0m[1mazurerm_network_security_group.web: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/networkSecurityGroups/nsg-web-prod][0m
[0m[1mazurerm_public_ip.appgw: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/publicIPAddresses/pip-appgw-prod][0m
[0m[1mazurerm_virtual_network.main: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod][0m
[0m[1mazurerm_public_ip.web: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/publicIPAddresses/pip-web-prod][0m
[0m[1mazurerm_public_ip.vpn: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/publicIPAddresses/pip-vpn-prod][0m
[0m[1mazurerm_subnet.gateway: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod/subnets/GatewaySubnet][0m
[0m[1mazurerm_subnet.web: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod/subnets/subnet-web][0m
[0m[1mazurerm_subnet.appgw: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod/subnets/subnet-appgw][0m
[0m[1mazurerm_subnet.was: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod/subnets/subnet-was][0m
[0m[1mazurerm_subnet.db: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod/subnets/subnet-db][0m
[0m[1mazurerm_virtual_network_gateway.main: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworkGateways/vgw-prod][0m
[0m[1mazurerm_network_interface.was: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/networkInterfaces/nic-was-prod][0m
[0m[1mazurerm_application_gateway.main: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/applicationGateways/appgw-prod][0m
[0m[1mazurerm_network_interface.web: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/networkInterfaces/nic-web-prod][0m
[0m[1mazurerm_mysql_flexible_database.main: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.DBforMySQL/flexibleServers/mysql-dr-prod/databases/petclinic][0m
[0m[1mazurerm_network_interface_application_gateway_backend_address_pool_association.web: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/networkInterfaces/nic-web-prod/ipConfigurations/internal|/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/applicationGateways/appgw-prod/backendAddressPools/web-backend-pool][0m
[0m[1mazurerm_linux_virtual_machine.web: Refreshing state... [id=/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Compute/virtualMachines/vm-web-prod][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # azurerm_linux_virtual_machine.was[0m will be created
[0m  [32m+[0m[0m resource "azurerm_linux_virtual_machine" "was" {
      [32m+[0m[0m admin_username                                         = "azureuser"
      [32m+[0m[0m allow_extension_operations                             = true
      [32m+[0m[0m bypass_platform_safety_checks_on_user_schedule_enabled = false
      [32m+[0m[0m computer_name                                          = (known after apply)
      [32m+[0m[0m custom_data                                            = (sensitive value)
      [32m+[0m[0m disable_password_authentication                        = true
      [32m+[0m[0m disk_controller_type                                   = (known after apply)
      [32m+[0m[0m extensions_time_budget                                 = "PT1H30M"
      [32m+[0m[0m id                                                     = (known after apply)
      [32m+[0m[0m location                                               = "koreacentral"
      [32m+[0m[0m max_bid_price                                          = -1
      [32m+[0m[0m name                                                   = "vm-was-prod"
      [32m+[0m[0m network_interface_ids                                  = [
          [32m+[0m[0m "/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/networkInterfaces/nic-was-prod",
        ]
      [32m+[0m[0m patch_assessment_mode                                  = "ImageDefault"
      [32m+[0m[0m patch_mode                                             = "ImageDefault"
      [32m+[0m[0m platform_fault_domain                                  = -1
      [32m+[0m[0m priority                                               = "Regular"
      [32m+[0m[0m private_ip_address                                     = (known after apply)
      [32m+[0m[0m private_ip_addresses                                   = (known after apply)
      [32m+[0m[0m provision_vm_agent                                     = true
      [32m+[0m[0m public_ip_address                                      = (known after apply)
      [32m+[0m[0m public_ip_addresses                                    = (known after apply)
      [32m+[0m[0m resource_group_name                                    = "rg-dr-prod"
      [32m+[0m[0m size                                                   = "Standard_B2ms"
      [32m+[0m[0m virtual_machine_id                                     = (known after apply)
      [32m+[0m[0m vm_agent_platform_updates_enabled                      = false

      [32m+[0m[0m admin_ssh_key {
          [32m+[0m[0m public_key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC1HrbGVbeEE0PsGJ5mrfRVHyx0mywPA57XqiW8Ky08QIt0UsSgjZyoA0rJDb/R5cdjLc/7VCHc9H4Q/RMtccIVHA0fBK9esvH4wxdFtb1acXaFqWQz3Fi9hI8E7E8tv4GHZuf5vThSj8LAxQaDKbB29POFMLNXvnooLSqU5FRJOKPkKVZ4AaeXl6mBPRewaTYlXVIrpkwOY+Khgb0nXsgdHsXeG597U6NUNKM4whDR/ToLJmJG81pQ/+qfVtwd4Yq9QLkZm5ikpIp3IkEXvIbyR1eH5iDxq50JYubQUX/jFs0GkDhGs+u0k9bqZ10Bgmq9tHY8/XNYdqeH3dq5iNXB0P2a7tKnXNYDQIEy04pZUo9nUt5UvNgHX+BdgLQ6/76BlQDHQ55iW/+qbaQ73NGRPoazl9WV9j7Sv9+/5xwBxzgMcEY7Sxt2JZVl638w8U+tI25hMlwi3dbDt/5a2XpV2F6wET90Q9GS/67MKBNzd4IrqfL0lcaDYllxUvV8yp3h4pLmXzi0QKlyuaJoEjyWTAc6S9KBDsNDCVdXwrwOOc+zxU2N6k5zpd+Fz8szHqIkeumWoS2DfLvf86Z5CE6pK/a0p7re9q2WRGDxj/EjVkliEZBwSBciJWL3qXqStRlEXYBKFCof5G39ohpImS9AAxK6Pa3TFev3I/Qnf8/yfQ== ubuntu@ip-192-168-0-59"
          [32m+[0m[0m username   = "azureuser"
        }

      [32m+[0m[0m os_disk {
          [32m+[0m[0m caching                   = "ReadWrite"
          [32m+[0m[0m disk_size_gb              = (known after apply)
          [32m+[0m[0m name                      = (known after apply)
          [32m+[0m[0m storage_account_type      = "Standard_LRS"
          [32m+[0m[0m write_accelerator_enabled = false
        }

      [32m+[0m[0m source_image_reference {
          [32m+[0m[0m offer     = "0001-com-ubuntu-server-jammy"
          [32m+[0m[0m publisher = "Canonical"
          [32m+[0m[0m sku       = "22_04-lts-gen2"
          [32m+[0m[0m version   = "latest"
        }

      [32m+[0m[0m termination_notification (known after apply)
    }

[1m  # azurerm_mysql_flexible_server.main[0m will be created
[0m  [32m+[0m[0m resource "azurerm_mysql_flexible_server" "main" {
      [32m+[0m[0m administrator_login           = (sensitive value)
      [32m+[0m[0m administrator_password        = (sensitive value)
      [32m+[0m[0m backup_retention_days         = 7
      [32m+[0m[0m delegated_subnet_id           = "/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.Network/virtualNetworks/vnet-dr-prod/subnets/subnet-db"
      [32m+[0m[0m fqdn                          = (known after apply)
      [32m+[0m[0m geo_redundant_backup_enabled  = false
      [32m+[0m[0m id                            = (known after apply)
      [32m+[0m[0m location                      = "koreacentral"
      [32m+[0m[0m name                          = "mysql-dr-prod"
      [32m+[0m[0m public_network_access_enabled = (known after apply)
      [32m+[0m[0m replica_capacity              = (known after apply)
      [32m+[0m[0m replication_role              = (known after apply)
      [32m+[0m[0m resource_group_name           = "rg-dr-prod"
      [32m+[0m[0m sku_name                      = "B_Standard_B2s"
      [32m+[0m[0m version                       = "8.0.21"

      [32m+[0m[0m storage {
          [32m+[0m[0m auto_grow_enabled  = true
          [32m+[0m[0m io_scaling_enabled = false
          [32m+[0m[0m iops               = (known after apply)
          [32m+[0m[0m size_gb            = 20
        }
    }

[1mPlan:[0m [0m2 to add, 0 to change, 0 to destroy.

Changes to Outputs:
  [33m~[0m[0m deployment_summary       = (sensitive value)
  [33m~[0m[0m mysql_fqdn               = (sensitive value)
[0m[1mazurerm_mysql_flexible_server.main: Creating...[0m[0m
[31mâ•·[0m[0m
[31mâ”‚[0m [0m[1m[31mError: [0m[0m[1mA resource with the ID "/subscriptions/fdc2f63f-a7bc-4ac7-901a-c730f7d317e9/resourceGroups/rg-dr-prod/providers/Microsoft.DBforMySQL/flexibleServers/mysql-dr-prod" already exists - to be managed via Terraform this resource needs to be imported into the State. Please see the resource documentation for "azurerm_mysql_flexible_server" for more information.[0m
[31mâ”‚[0m [0m
[31mâ”‚[0m [0m[0m  with azurerm_mysql_flexible_server.main,
[31mâ”‚[0m [0m  on main.tf line 283, in resource "azurerm_mysql_flexible_server" "main":
[31mâ”‚[0m [0m 283: resource "azurerm_mysql_flexible_server" "main" [4m{[0m[0m
[31mâ”‚[0m [0m
[31mâ•µ[0m[0m
